{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{\"W+IF\":function(e,n,t){\"use strict\";t.r(n);var r=t(\"o0o1\"),a=t.n(r),u=t(\"q1tI\"),l=t.n(u),s=t(\"8Kt/\"),i=t.n(s),o=t(\"5Yp1\"),c=t(\"WuuX\"),d=l.a.createElement;n.default=function(){var e=Object(c.a)(),n=e.user,t=e.loading,r=Object(u.useState)(),l=r[0],s=r[1],f=Object(u.useState)(),p=f[0],m=f[1];return!n||l||t||p||function(e){var n,t;a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(fetch(\"/api/mongodb?id=\"+e.sub));case 2:return n=r.sent,r.next=5,a.a.awrap(n.json());case 5:if(t=r.sent,console.log(\"json\",t),!t.err){r.next=11;break}m({error:!0}),r.next=20;break;case 11:if(!t.isTeacher){r.next=19;break}return r.next=14,a.a.awrap(fetch(\"/api/mongodb?groupId=\"+t.groupId));case 14:return n=r.sent,r.next=17,a.a.awrap(n.json());case 17:t.students=r.sent,t.students=t.students.filter((function(e){return e.isStudent}));case 19:s(t);case 20:case\"end\":return r.stop()}}),null,null,null,Promise)}(n),d(o.a,{user:n,loading:t},d(i.a,null,d(\"title\",null,\"Profile Page\"),d(\"meta\",{name:\"description\",content:\"Profile Page\"})),l&&d(\"div\",{id:\"main\",className:\"alt\"},d(\"section\",{id:\"one\"},d(\"div\",{className:\"inner\"},d(\"header\",{className:\"major\"},d(\"h1\",null,\"Profile\")),d(\"div\",{className:\"row 200%\"},d(\"div\",{className:\"6u 12u(medium)\"},d(\"h2\",{id:\"content\"},\"Nouamane Tazi\"),d(\"ul\",{className:\"alt\"},d(\"li\",null,d(\"strong\",null,\"Email :\"),\" \",l.email),d(\"li\",null,d(\"strong\",null,\"Phone :\"),\" \",l.phone)))),d(\"div\",{className:\"12u 12u(medium)\"},d(\"h4\",null,\"Liste des \\xe9l\\xe8ves\"),d(\"div\",{className:\"table-wrapper\"},d(\"table\",null,d(\"thead\",null,d(\"tr\",null,d(\"th\",null,\"Nom\"),d(\"th\",null,\"Demandes\"),d(\"th\",null,\"Fili\\xe8re\"),d(\"th\",null,\"T\\xe9l\\xe9phone\"),d(\"th\",null,\"Email\"))),d(\"tbody\",null,l.students.map((function(e){return d(\"tr\",null,d(\"td\",null,e.name),d(\"td\",null,e.wishes),d(\"td\",null,e.filiere),d(\"td\",null,e.phone),d(\"td\",null,e.email))}))))))))),p&&d(\"div\",{id:\"main\",className:\"alt\"},d(\"section\",{id:\"one\"},d(\"div\",{className:\"inner\"},d(\"header\",{className:\"major\"},d(\"h1\",null,\"Profile\")),d(\"h2\",{id:\"content\"},\"Profile pas encore cr\\xe9\\xe9 !\"),d(\"p\",null,\"Veuillez nous contacter..\")))))}},WuuX:function(e,n,t){\"use strict\";t.d(n,\"a\",(function(){return i}));var r=t(\"o0o1\"),a=t.n(r),u=t(\"q1tI\"),l=t(\"vcXL\"),s=t.n(l);function i(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).required,n=Object(u.useState)((function(){return!window.__user})),t=n[0],r=n[1],l=Object(u.useState)((function(){return window.__user||null})),i=l[0],o=l[1];return Object(u.useEffect)((function(){if(t||!i){r(!0);var n=!0;return function(){var e,n,t,r=arguments;return a.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:\"\",!window.__user){u.next=3;break}return u.abrupt(\"return\",window.__user);case 3:return u.next=5,a.a.awrap(s()(\"/api/me\",e?{headers:{cookie:e}}:{}));case 5:if((n=u.sent).ok){u.next=9;break}return delete window.__user,u.abrupt(\"return\",null);case 9:return u.next=11,a.a.awrap(n.json());case 11:return t=u.sent,window.__user=t,u.abrupt(\"return\",t);case 14:case\"end\":return u.stop()}}),null,null,null,Promise)}().then((function(t){if(n){if(e&&!t)return void(window.location.href=\"/api/login\");o(t),r(!1)}})),function(){n=!1}}}),[]),{user:i,loading:t}}},u1GD:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/profile\",function(){return t(\"W+IF\")}])},vcXL:function(e,n,t){\"use strict\";var r=self.fetch.bind(self);e.exports=r,e.exports.default=e.exports}},[[\"u1GD\",0,2,1,3]]]);"}