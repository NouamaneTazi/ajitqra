{"ast":null,"code":"\"use strict\";\n\nimport nextConnect from 'next-connect';\nimport middleware from \"../../lib/database\";\nconst handler = nextConnect();\nhandler.use(middleware);\nhandler.get(async (req, res) => {\n  console.log(req.query);\n  let {\n    groupId,\n    id\n  } = req.query;\n\n  if (groupId) {\n    req.db.collection('users').find({\n      groupId: parseInt(groupId)\n    }).toArray(function (err, result) {\n      if (err || !result) res.json({\n        err\n      });else {\n        console.log(result);\n        res.json(result);\n      }\n    });\n  } else {\n    req.db.collection('users').findOne({\n      id\n    }, function (err, result) {\n      if (err || !result) res.json({\n        err: true\n      });else {\n        console.log(result);\n        res.json(result);\n      }\n    });\n  }\n});\nexport default handler;","map":null,"metadata":{},"sourceType":"module"}